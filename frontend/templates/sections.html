<!-- SESSÃO DE GERENCIAMENTO DE PRODUTOS -->
<div id="sectionProdutos" class="hidden" style="padding: 20px;">
    <div class="page-title">
        <h1 style="margin: 0; font-family: 'Outfit', sans-serif; font-size: 1.8rem; color: #1e293b; font-weight: 800;">
            Gerenciamento de Produtos</h1>
        <p style="margin: 5px 0 0; color: #64748b; font-size: 0.9rem;">Cadastre e organize os itens do seu cardápio</p>
    </div>
    <div class="card"
        style="background: white; padding: 25px; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); margin-top: 20px; margin-bottom: 15px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h3 style="margin: 0; font-size: 1.1rem; color: #1e293b;">Novo Produto / Filtro</h3>
            <button onclick="limparFiltrosSessao()"
                style="background: #f1f5f9; color: #64748b; padding: 6px 12px; font-size: 0.75rem; border-radius: 6px; border: 1px solid #e2e8f0; font-weight: 700;">LIMPAR
                CAMPOS</button>
        </div>
        <div class="form-cadastro"
            style="display: flex; flex-direction: row; gap: 15px; align-items: flex-end; background: transparent; border: none; padding: 0; margin-bottom: 0;">
            <div style="flex: 0 0 120px;">
                <label
                    style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Código
                    (3 dgt)</label>
                <input id="prodPageCodigo" placeholder="000" style="width: 100%;" maxlength="3">
            </div>
            <div style="flex: 1;">
                <label
                    style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Descrição
                    do Produto</label>
                <input id="prodPageDescricao" placeholder="Ex: X-Salada, Coca-Cola..." style="width: 100%;">
            </div>
            <div style="flex: 0 0 150px;">
                <label
                    style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Valor
                    (R$)</label>
                <input id="prodPageValor" placeholder="0,00" type="text" inputmode="decimal" style="width: 100%;">
            </div>
            <button id="btnSalvarProdutoPage" style="background: #10b981; padding: 12px 24px; font-weight: 700;">Salvar
                Produto</button>
        </div>
    </div>

    <div class="card"
        style="background: white; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); overflow: hidden;">
        <table style="width: 100%; border-collapse: collapse;">
            <thead style="background: #f8fafc; border-bottom: 1px solid #e2e8f0;">
                <tr>
                    <th onclick="ordenarProdutos('grupo')"
                        style="padding: 15px; text-align: center; width: 110px; cursor: pointer; user-select: none;">
                        Grupo
                    </th>
                    <th onclick="ordenarProdutos('codigo')"
                        style="padding: 15px; text-align: left; width: 100px; cursor: pointer; user-select: none;">
                        Código
                    </th>
                    <th onclick="ordenarProdutos('descricao')"
                        style="padding: 15px; text-align: left; cursor: pointer; user-select: none;">Descrição</th>
                    <th onclick="ordenarProdutos('valor')"
                        style="padding: 15px; text-align: right; width: 120px; cursor: pointer; user-select: none;">
                        Valor
                    </th>
                    <th style="padding: 15px; text-align: center; width: 100px;">Status</th>
                    <th style="padding: 15px; text-align: center; width: 100px;">Ações</th>
                </tr>
            </thead>
            <tbody id="tabelaProdutosPageBody"></tbody>
        </table>
    </div>
</div>

<!-- SESSÃO CONFIGURACAO -->
<div id="sectionConfiguracao" class="hidden" style="padding: 20px;">
    <div class="page-title" style="margin-bottom: 25px;">
        <h1 style="margin: 0; font-family: 'Outfit', sans-serif; font-size: 1.8rem; color: #1e293b; font-weight: 800;">
            Configuração do Sistema</h1>
        <p style="margin: 5px 0 0; color: #64748b; font-size: 0.9rem;">Módulos ativos e parâmetros atuais</p>
    </div>
    <div class="card"
        style="background: white; padding: 25px; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); margin-bottom: 15px;">
        <h3 style="margin: 0 0 10px; font-size: 1rem; color: #1e293b;">Módulos ativos</h3>
        <div id="configPlanoInfo" style="margin-bottom: 15px; font-weight: 700; color: #0f172a;"></div>
        <div style="display: grid; gap: 10px; max-width: 360px;">
            <label style="display: flex; align-items: center; gap: 10px; font-weight: 600;">
                <input type="checkbox" id="cfgDivisaoItem">
                Divisão por item
            </label>
            <label style="display: flex; align-items: center; gap: 10px; font-weight: 600;">
                <input type="checkbox" id="cfgEstoque">
                Controle de estoque
            </label>
            <label style="display: flex; align-items: center; gap: 10px; font-weight: 600;">
                <input type="checkbox" id="cfgClientes">
                Lista de clientes
            </label>
            <label style="display: flex; align-items: center; gap: 10px; font-weight: 600;">
                <input type="checkbox" id="cfgColaboradores">
                Colaboradores
            </label>
            <label style="display: flex; align-items: center; gap: 10px; font-weight: 600;">
                <input type="checkbox" id="cfgUsuarios">
                Gestão de usuários
            </label>
            <label style="display: flex; align-items: center; gap: 10px; font-weight: 600;">
                <input type="checkbox" id="cfgRelatorios">
                Relatórios
            </label>
            <button id="btnSalvarConfig" style="background: #10b981; padding: 10px 16px; font-weight: 700; width: fit-content;">
                Salvar
            </button>
        </div>
    </div>

    <div class="card"
        style="background: white; padding: 25px; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); margin-bottom: 15px;">
        <h3 style="margin: 0 0 10px; font-size: 1rem; color: #1e293b;">Impressora (ESC/POS)</h3>
        <p style="margin: 0 0 12px; color: #64748b; font-size: 0.85rem;">
            Configure a porta e o modo de impressão. Para impressão direta via COM, o backend usa ESC/POS.
        </p>
        <div style="display: grid; gap: 10px; max-width: 420px;">
            <label style="display: grid; gap: 6px; font-weight: 600;">
                Modo de impressão
                <select id="printerMode">
                    <option value="qz">QZ Tray (silencioso)</option>
                    <option value="browser">Navegador</option>
                    <option value="serial">Serial (COM/USB)</option>
                    <option value="simulado">Simulado (log)</option>
                </select>
            </label>
            <label style="display: grid; gap: 6px; font-weight: 600;">
                Porta COM
                <input id="printerPort" list="printerPortList" placeholder="Ex: COM3">
                <datalist id="printerPortList"></datalist>
            </label>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <label style="display: grid; gap: 6px; font-weight: 600;">
                    Baudrate
                    <select id="printerBaudrate">
                        <option value="9600">9600</option>
                        <option value="115200">115200</option>
                    </select>
                </label>
                <label style="display: grid; gap: 6px; font-weight: 600;">
                    Largura do papel
                    <select id="printerPaperWidth">
                        <option value="80">80mm</option>
                        <option value="58">58mm</option>
                    </select>
                </label>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <label style="display: grid; gap: 6px; font-weight: 600;">
                    Encoding
                    <select id="printerEncoding">
                        <option value="cp860">CP860 (PT-BR)</option>
                        <option value="cp850">CP850</option>
                        <option value="utf-8">UTF-8</option>
                    </select>
                </label>
                <label style="display: flex; align-items: center; gap: 10px; font-weight: 600; margin-top: 22px;">
                    <input type="checkbox" id="printerAutoCut">
                    Cortar papel automaticamente
                </label>
            </div>
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                <button id="btnAtualizarPortas" style="background: #e2e8f0; color: #1e293b; font-weight: 700;">Atualizar portas</button>
                <button id="btnTestarImpressora" style="background: #f59e0b; font-weight: 700;">Testar conexão</button>
                <button id="btnImprimirTeste" style="background: #3b82f6; font-weight: 700;">Imprimir teste</button>
                <button id="btnSalvarImpressora" style="background: #10b981; font-weight: 700;">Salvar impressora</button>
            </div>
            <div id="printerStatus" style="margin-top: 6px; font-weight: 700; color: #0f172a;"></div>
        </div>
    </div>

</div>

<!-- SESSÃO USUARIOS -->
<div id="sectionUsuarios" class="hidden" style="padding: 20px;">
    <div class="page-title" style="margin-bottom: 25px;">
        <h1 style="margin: 0; font-family: 'Outfit', sans-serif; font-size: 1.8rem; color: #1e293b; font-weight: 800;">
            Gestão de Usuários</h1>
        <p style="margin: 5px 0 0; color: #64748b; font-size: 0.9rem;">Perfis de acesso e status</p>
    </div>
    <div class="card"
        style="background: white; padding: 25px; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); margin-bottom: 15px;">
        <div id="usuarioAviso" style="margin-bottom: 10px; color: #ef4444; font-weight: 600;"></div>
        <form id="formUsuarios" style="display: grid; grid-template-columns: 2fr 2fr 1fr auto; gap: 12px; align-items: end;">
            <div>
                <label style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Usuário</label>
                <input id="usuarioNome" placeholder="Ex: operador01" style="width: 100%;">
            </div>
            <div>
                <label style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Senha</label>
                <input id="usuarioSenha" type="password" placeholder="Senha" style="width: 100%;">
            </div>
            <div>
                <label style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Perfil</label>
                <select id="usuarioPerfil" style="width: 100%;">
                    <option value="operador">Operador</option>
                    <option value="admin">Administrador</option>
                </select>
            </div>
            <button style="background: #10b981; padding: 10px 16px; font-weight: 700;">Adicionar</button>
        </form>
    </div>
    <div class="card"
        style="background: white; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); overflow: hidden;">
        <table style="width: 100%; border-collapse: collapse;">
            <thead style="background: #f8fafc; border-bottom: 1px solid #e2e8f0;">
                <tr>
                    <th style="padding: 15px; text-align: left;">Usuário</th>
                    <th style="padding: 15px; text-align: center; width: 140px;">Perfil</th>
                    <th style="padding: 15px; text-align: center; width: 140px;">Status</th>
                    <th style="padding: 15px; text-align: center; width: 80px;">Ação</th>
                </tr>
            </thead>
            <tbody id="tabelaUsuariosBody"></tbody>
        </table>
    </div>
</div>

<!-- SESSÃO CLIENTES -->
<div id="sectionClientes" class="hidden" style="padding: 20px;">
    <div class="page-title" style="margin-bottom: 25px;">
        <h1 style="margin: 0; font-family: 'Outfit', sans-serif; font-size: 1.8rem; color: #1e293b; font-weight: 800;">
            Lista de Clientes</h1>
        <p style="margin: 5px 0 0; color: #64748b; font-size: 0.9rem;">Consulte clientes cadastrados por telefone</p>
    </div>
    <div class="card"
        style="background: white; padding: 25px; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); margin-bottom: 15px;">
        <div class="form-cadastro"
            style="display: flex; flex-direction: row; gap: 15px; align-items: flex-end; background: transparent; border: none; padding: 0; margin-bottom: 0;">
            <div style="flex: 1;">
                <label
                    style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Telefone</label>
                <input id="clienteFiltroTelefone" placeholder="Ex: 16999999999" style="width: 100%;">
            </div>
            <div style="flex: 2;">
                <label
                    style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Nome</label>
                <input id="clienteFiltroNome" placeholder="Ex: Maria da Silva" style="width: 100%;">
            </div>
        </div>
    </div>

    <div class="card"
        style="background: white; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); overflow: hidden;">
        <table style="width: 100%; border-collapse: collapse;">
            <thead style="background: #f8fafc; border-bottom: 1px solid #e2e8f0;">
                <tr>
                    <th style="padding: 15px; text-align: left;">Nome</th>
                    <th style="padding: 15px; text-align: left; width: 170px;">Telefone</th>
                    <th style="padding: 15px; text-align: center; width: 190px;">Criado em</th>
                    <th style="padding: 15px; text-align: center; width: 190px;">Atualizado em</th>
                </tr>
            </thead>
            <tbody id="tabelaClientesBody"></tbody>
        </table>
    </div>
</div>

<!-- SESSÃO ESTOQUE -->
<div id="sectionEstoque" class="hidden" style="padding: 20px;">
    <div class="page-title" style="margin-bottom: 25px;">
        <h1 style="margin: 0; font-family: 'Outfit', sans-serif; font-size: 1.8rem; color: #1e293b; font-weight: 800;">
            Controle de Estoque</h1>
        <p style="margin: 5px 0 0; color: #64748b; font-size: 0.9rem;">Entradas, saídas e ajustes com alerta de mínimo</p>
    </div>

    <div class="card"
        style="background: white; padding: 25px; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); margin-bottom: 15px;">
        <div class="form-cadastro"
            style="display: flex; flex-direction: row; gap: 15px; align-items: flex-end; background: transparent; border: none; padding: 0; margin-bottom: 0;">
            <div style="flex: 2;">
                <label
                    style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Produto</label>
                <select id="estoqueProduto" style="width: 100%;">
                    <option value="">Selecione...</option>
                </select>
            </div>
            <div style="flex: 1;">
                <label
                    style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Quantidade</label>
                <input id="estoqueQuantidade" type="number" step="0.01" placeholder="0" style="width: 100%;">
            </div>
            <div style="flex: 2;">
                <label
                    style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Motivo</label>
                <input id="estoqueMotivo" placeholder="Compra, ajuste, perda..." style="width: 100%;">
            </div>
            <div style="display: flex; gap: 10px;">
                <button id="btnEntradaEstoque" style="background: #10b981; padding: 10px 16px; font-weight: 700;">Entrada</button>
                <button id="btnSaidaEstoque" style="background: #ef4444; padding: 10px 16px; font-weight: 700;">Saída</button>
                <button id="btnAjusteEstoque" style="background: #f59e0b; padding: 10px 16px; font-weight: 700;">Ajuste</button>
            </div>
        </div>

        <div style="display: flex; gap: 15px; align-items: flex-end; margin-top: 20px;">
            <div style="flex: 1;">
                <label
                    style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Mínimo</label>
                <input id="estoqueMinimo" type="number" step="0.01" placeholder="0" style="width: 100%;">
            </div>
            <button id="btnAtualizarMinimo" style="background: #64748b; padding: 10px 16px; font-weight: 700;">Atualizar mínimo</button>
        </div>
    </div>

    <div class="card"
        style="background: white; padding: 15px 25px; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); margin-bottom: 15px;">
        <label
            style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Busca</label>
        <input id="estoqueBusca" placeholder="Código ou descrição..." style="width: 100%;">
    </div>

    <div class="card"
        style="background: white; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); overflow: hidden;">
        <table style="width: 100%; border-collapse: collapse;">
            <thead style="background: #f8fafc; border-bottom: 1px solid #e2e8f0;">
                <tr>
                    <th style="padding: 15px; text-align: center; width: 100px;">Código</th>
                    <th style="padding: 15px; text-align: left;">Descrição</th>
                    <th style="padding: 15px; text-align: right; width: 110px;">Qtd</th>
                    <th style="padding: 15px; text-align: right; width: 110px;">Mínimo</th>
                    <th style="padding: 15px; text-align: center; width: 190px;">Atualizado em</th>
                </tr>
            </thead>
            <tbody id="tabelaEstoqueBody"></tbody>
        </table>
    </div>
</div>

<!-- SESSÃO COLABORADORES -->
<div id="sectionColaboradores" class="hidden" style="padding: 20px;">
    <div class="page-title" style="margin-bottom: 25px;">
        <h1 style="margin: 0; font-family: 'Outfit', sans-serif; font-size: 1.8rem; color: #1e293b; font-weight: 800;">
            Gestão de Colaboradores</h1>
        <p style="margin: 5px 0 0; color: #64748b; font-size: 0.9rem;">Gerencie sua equipe, contatos e dados de
            pagamento</p>
    </div>
    <div class="card"
        style="background: white; padding: 25px; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); margin-bottom: 15px;">
        <div style="display: flex; justify-content: space-between; align-items: center; cursor: pointer;" onclick="const content = document.getElementById('formColaboradorContent'); 
                  const icon = document.getElementById('iconToggleColab');
                  const isColabOpen = content.style.display === 'block';
                  content.style.display = isColabOpen ? 'none' : 'block';
                  icon.innerText = isColabOpen ? '➕' : '➖';">
            <h3 style="margin: 0; font-size: 1.1rem; color: #1e293b; display: flex; align-items: center; gap: 10px;">
                <span id="iconToggleColab">➕</span> Novo Colaborador
            </h3>
            <p style="margin: 0; font-size: 0.85rem; color: #64748b;">Clique para expandir/recolher</p>
        </div>

        <div id="formColaboradorContent"
            style="display: none; margin-top: 20px; border-top: 1px solid #f1f5f9; padding-top: 20px;">
            <div style="display: flex; justify-content: flex-end; margin-bottom: 20px;">
                <button id="btnLimparColaborador"
                    style="background: #f1f5f9; color: #64748b; padding: 6px 12px; font-size: 0.75rem; border-radius: 6px; border: 1px solid #e2e8f0; font-weight: 700;">LIMPAR
                    CAMPOS</button>
            </div>

            <div class="form-colaborador" style="display: grid; grid-template-columns: 2fr 2fr 1fr; gap: 15px;">
                <div>
                    <label
                        style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Nome
                        Completo *</label>
                    <input id="colabNome" placeholder="Ex: João Silva..." style="width: 100%;">
                </div>
                <div>
                    <label
                        style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Endereço</label>
                    <input id="colabEndereco" placeholder="Rua, Número, Bairro..." style="width: 100%;">
                </div>
                <div>
                    <label
                        style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Função</label>
                    <input id="colabFuncao" placeholder="Ex: Atendente, Cozinha..." style="width: 100%;">
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
                <div>
                    <label
                        style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Contatos</label>
                    <div id="listaInputsContatos" style="display: flex; flex-direction: column; gap: 5px;">
                        <div style="display: flex; gap: 5px;">
                            <input class="colab-contato" placeholder="(00) 00000-0000" style="flex: 1;">
                            <button onclick="adicionarInput('listaInputsContatos', 'colab-contato')"
                                style="background: #38bdf8; padding: 0 10px; border-radius: 6px;">+</button>
                        </div>
                    </div>
                </div>
                <div>
                    <label
                        style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Chaves
                        PIX</label>
                    <div id="listaInputsPix" style="display: flex; flex-direction: column; gap: 5px;">
                        <div style="display: flex; gap: 5px;">
                            <input class="colab-pix" placeholder="Email, CPF ou Chave..." style="flex: 1;">
                            <button onclick="adicionarInput('listaInputsPix', 'colab-pix')"
                                style="background: #38bdf8; padding: 0 10px; border-radius: 6px;">+</button>
                        </div>
                    </div>
                </div>
            </div>

            <div style="margin-top: 20px; display: flex; justify-content: flex-end;">
                <button id="btnSalvarColaborador"
                    style="background: #10b981; padding: 12px 24px; font-weight: 700; color: white; border-radius: 8px; border: none; cursor: pointer;">Salvar
                    Colaborador</button>
            </div>
        </div>
    </div>

    <div class="card"
        style="background: white; padding: 15px 25px; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); margin-bottom: 15px; display: flex; gap: 15px; align-items: flex-end;">
        <div style="flex: 1;">
            <label
                style="display: block; font-size: 0.7rem; font-weight: 700; color: #64748b; margin-bottom: 5px; text-transform: uppercase;">Filtrar
                por Nome</label>
            <input type="text" id="filtroColabNome" placeholder="Buscar..."
                style="width: 100%; height: 35px; font-size: 0.9rem;" oninput="filtrarERenderizarColaboradores()">
        </div>
        <div style="flex: 1;">
            <label
                style="display: block; font-size: 0.7rem; font-weight: 700; color: #64748b; margin-bottom: 5px; text-transform: uppercase;">Filtrar
                por Função</label>
            <input type="text" id="filtroColabFuncao" placeholder="Buscar..."
                style="width: 100%; height: 35px; font-size: 0.9rem;" oninput="filtrarERenderizarColaboradores()">
        </div>
        <button onclick="limparFiltrosColaboradores()"
            style="background: #f1f5f9; color: #64748b; padding: 8px 15px; font-size: 0.75rem; border-radius: 6px; border: 1px solid #e2e8f0; font-weight: 700; height: 35px;">LIMPAR</button>
    </div>

    <div class="card"
        style="background: white; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); overflow: hidden;">
        <table style="width: 100%; border-collapse: collapse;">
            <thead style="background: #f8fafc; border-bottom: 1px solid #e2e8f0;">
                <tr>
                    <th onclick="ordenarColaboradores('id')"
                        style="padding: 15px; text-align: center; width: 60px; cursor: pointer; user-select: none;">ID
                    </th>
                    <th onclick="ordenarColaboradores('nome')"
                        style="padding: 15px; text-align: left; cursor: pointer; user-select: none;">Nome</th>
                    <th onclick="ordenarColaboradores('funcao')"
                        style="padding: 15px; text-align: left; cursor: pointer; user-select: none;">Função</th>
                    <th style="padding: 15px; text-align: left;">Contatos</th>
                    <th style="padding: 15px; text-align: left;">PIX</th>
                    <th onclick="ordenarColaboradores('ativo')"
                        style="padding: 15px; text-align: center; width: 100px; cursor: pointer; user-select: none;">
                        Status</th>
                </tr>
            </thead>
            <tbody id="tabelaColaboradoresBody"></tbody>
        </table>
    </div>
</div>

<!-- SESSÃO FINANCEIRO -->
<div id="sectionFinanceiro" class="hidden" style="padding: 20px;">
    <div class="page-title" style="margin-bottom: 25px;">
        <h1 style="margin: 0; font-family: 'Outfit', sans-serif; font-size: 1.8rem; color: #1e293b; font-weight: 800;">
            Controle Financeiro</h1>
        <p style="margin: 5px 0 0; color: #64748b; font-size: 0.9rem;">Lançamentos de despesas, fornecedores e
            pagamentos gerais</p>
    </div>
    <div class="card"
        style="background: white; padding: 25px; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); margin-bottom: 15px;">
        <div style="display: flex; justify-content: space-between; align-items: center; cursor: pointer;" onclick="const content = document.getElementById('formFinanceiroContent'); 
                  const icon = document.getElementById('iconToggleFin');
                  const isFinOpen = content.style.display === 'block';
                  content.style.display = isFinOpen ? 'none' : 'block';
                  icon.innerText = isFinOpen ? '➕' : '➖';">
            <h3 style="margin: 0; font-size: 1.1rem; color: #1e293b; display: flex; align-items: center; gap: 10px;">
                <span id="iconToggleFin">➕</span> Novo Pagamento / Registro
            </h3>
            <p style="margin: 0; font-size: 0.85rem; color: #64748b;">Lançamento de mercadorias, serviços e outros</p>
        </div>

        <div id="formFinanceiroContent"
            style="display: none; margin-top: 20px; border-top: 1px solid #f1f5f9; padding-top: 20px;">
            <div class="form-grid"
                style="display: grid; grid-template-columns: 1fr 2fr 2fr 1fr; gap: 15px; align-items: flex-end;">
                <div>
                    <label
                        style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Data</label>
                    <input type="date" id="finData" style="width: 100%;">
                </div>
                <div>
                    <label
                        style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Nome
                        / Fornecedor *</label>
                    <input type="text" id="finNome" placeholder="Ex: Panificadora..." style="width: 100%;">
                </div>
                <div>
                    <label
                        style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Serviço
                        / Produto *</label>
                    <input type="text" id="finServico" placeholder="Ex: Pão de Hambúrguer..." style="width: 100%;">
                </div>
                <div>
                    <label
                        style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Valor
                        (R$)</label>
                    <input type="number" step="0.01" id="finValor" placeholder="0,00" style="width: 100%;">
                </div>
            </div>
            <div style="margin-top: 15px; display: flex; gap: 15px; align-items: flex-end;">
                <div style="flex: 1; max-width: 300px;">
                    <label
                        style="display: block; font-size: 0.75rem; font-weight: 700; color: #64748b; margin-bottom: 8px; text-transform: uppercase;">Forma
                        de Pagamento</label>
                    <input type="text" id="finForma" placeholder="Ex: Pix, Dinheiro, Boleto..." style="width: 100%;">
                </div>
                <div
                    style="display: flex; align-items: center; gap: 8px; background: #f8fafc; padding: 8px 12px; border-radius: 8px; border: 1px solid #e2e8f0; height: 42px;">
                    <input type="checkbox" id="finPago" checked style="width: 18px; height: 18px; cursor: pointer;">
                    <label for="finPago"
                        style="font-size: 0.85rem; font-weight: 700; color: #1e293b; cursor: pointer;">PAGO</label>
                </div>
                <button id="btnSalvarFin"
                    style="background: #10b981; padding: 0 24px; height: 42px; font-weight: 700; color: white; border-radius: 8px; border: none; cursor: pointer;">Lançar
                    Pagamento</button>
            </div>
        </div>
    </div>

    <div class="card"
        style="background: white; padding: 15px 25px; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); margin-bottom: 15px; display: flex; gap: 15px; align-items: flex-end;">
        <div style="flex: 1;">
            <label
                style="display: block; font-size: 0.7rem; font-weight: 700; color: #64748b; margin-bottom: 5px; text-transform: uppercase;">Nome
                / Fornecedor</label>
            <input type="text" id="filtroFinNome" placeholder="Buscar..."
                style="width: 100%; height: 35px; font-size: 0.9rem;" oninput="filtrarERenderizarFinanceiro()">
        </div>
        <div style="flex: 1;">
            <label
                style="display: block; font-size: 0.7rem; font-weight: 700; color: #64748b; margin-bottom: 5px; text-transform: uppercase;">Serviço
                / Produto</label>
            <input type="text" id="filtroFinServico" placeholder="Buscar..."
                style="width: 100%; height: 35px; font-size: 0.9rem;" oninput="filtrarERenderizarFinanceiro()">
        </div>
        <button onclick="limparFiltrosFinanceiro()"
            style="background: #f1f5f9; color: #64748b; padding: 8px 15px; font-size: 0.75rem; border-radius: 6px; border: 1px solid #e2e8f0; font-weight: 700; height: 35px;">LIMPAR</button>
    </div>

    <div class="card"
        style="background: white; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); overflow: hidden;">
        <table style="width: 100%; border-collapse: collapse;">
            <thead style="background: #f8fafc; border-bottom: 1px solid #e2e8f0;">
                <tr>
                    <th onclick="ordenarFinanceiro('data')"
                        style="padding: 15px; text-align: left; width: 120px; cursor: pointer; user-select: none;">Data
                    </th>
                    <th onclick="ordenarFinanceiro('nome')"
                        style="padding: 15px; text-align: left; cursor: pointer; user-select: none;">Nome</th>
                    <th onclick="ordenarFinanceiro('item_servico')"
                        style="padding: 15px; text-align: left; cursor: pointer; user-select: none;">Serviço/Produto
                    </th>
                    <th style="padding: 15px; text-align: left;">Forma</th>
                    <th onclick="ordenarFinanceiro('valor')"
                        style="padding: 15px; text-align: right; width: 150px; cursor: pointer; user-select: none;">
                        Valor</th>
                    <th style="padding: 15px; text-align: center; width: 100px; white-space: nowrap;">Pago?</th>
                    <th style="padding: 15px; text-align: center; width: 80px;">Ações</th>
                </tr>
            </thead>
            <tbody id="tabelaFinanceiroBody"></tbody>
        </table>
    </div>
</div>

<!-- SESSÃO FECHAMENTO -->
<div id="sectionFechamento" class="hidden" style="padding: 20px;">
    <div class="page-title" style="margin-bottom: 25px;">
        <h1 style="margin: 0; font-family: 'Outfit', sans-serif; font-size: 1.8rem; color: #1e293b; font-weight: 800;">
            Fechamento Diário</h1>
        <p style="margin: 5px 0 0; color: #64748b; font-size: 0.9rem;">Insira os valores das maquininhas e dinheiro
            para conferência</p>
    </div>
    <div class="card"
        style="background: white; padding: 25px; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); margin-top: 20px; overflow-x: auto;">
        <h3 style="margin: 0 0 15px 0; font-size: 0.9rem; color: #64748b; text-transform: uppercase;">💳 Valores das
            Maquininhas</h3>
        <table style="width: 100%; border-collapse: collapse; min-width: 600px;">
            <thead>
                <tr style="text-align: left; border-bottom: 2px solid #f1f5f9;">
                    <th style="padding: 10px; font-size: 0.75rem; color: #64748b; text-transform: uppercase;">Máquina
                    </th>
                    <th
                        style="padding: 10px; font-size: 0.75rem; color: #64748b; text-transform: uppercase; width: 180px;">
                        Crédito (R$)</th>
                    <th
                        style="padding: 10px; font-size: 0.75rem; color: #64748b; text-transform: uppercase; width: 180px;">
                        Débito (R$)</th>
                    <th
                        style="padding: 10px; font-size: 0.75rem; color: #64748b; text-transform: uppercase; width: 180px;">
                        Pix (R$)</th>
                    <th style="padding: 10px; width: 50px;"></th>
                </tr>
            </thead>
            <tbody id="tbodyMaquinasFechamento"></tbody>
            <tfoot>
                <tr style="background: #f8fafc; font-weight: 800; border-top: 2px solid #e2e8f0;">
                    <td style="padding: 15px 10px; color: #1e293b;">SUBTOTAL MAQUININHAS</td>
                    <td style="padding: 15px 10px; color: #3b82f6;" id="totalFechamentoCredito">R$ 0,00</td>
                    <td style="padding: 15px 10px; color: #3b82f6;" id="totalFechamentoDebito">R$ 0,00</td>
                    <td style="padding: 15px 10px; color: #3b82f6;" id="totalFechamentoPix">R$ 0,00</td>
                    <td></td>
                </tr>
            </tfoot>
        </table>
        <button id="btnAdicionarMaquina"
            style="margin-top: 15px; background: #f1f5f9; color: #1e293b; border: 1px solid #e2e8f0; box-shadow: none;">
            + ADICIONAR MÁQUINA
        </button>
        <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid #e2e8f0;">
            <h3 style="margin: 0 0 15px 0; font-size: 0.9rem; color: #64748b; text-transform: uppercase;">💵 Outros
                Recebimentos</h3>
            <div style="display: flex; gap: 40px; flex-wrap: wrap;">
                <div style="display: flex; flex-direction: column; gap: 8px;">
                    <label style="font-size: 0.8rem; color: #64748b; font-weight: 600;">DINHEIRO (R$)</label>
                    <input type="text" id="fechamentoDinheiroInput" class="f-moeda" placeholder="R$ 0,00"
                        style="width: 180px; border: 1px solid #e2e8f0; padding: 12px; border-radius: 8px; font-weight: 700; font-size: 1rem; text-align: right;">
                </div>
                <div style="display: flex; flex-direction: column; gap: 8px;">
                    <label style="font-size: 0.8rem; color: #64748b; font-weight: 600;">VOUCHER (R$)</label>
                    <input type="text" id="fechamentoVoucherInput" class="f-moeda" placeholder="R$ 0,00"
                        style="width: 180px; border: 1px solid #e2e8f0; padding: 12px; border-radius: 8px; font-weight: 700; font-size: 1rem; text-align: right;">
                </div>
            </div>
        </div>
        <div
            style="margin-top: 30px; padding-top: 20px; border-top: 2px solid #e2e8f0; display: flex; justify-content: space-between; align-items: center;">
            <div>
                <span style="font-size: 0.85rem; color: #64748b;">TOTAL GERAL:</span>
                <span id="totalFechamentoGeral"
                    style="font-size: 1.4rem; font-weight: 800; color: #1e293b; margin-left: 10px;">R$ 0,00</span>
            </div>
            <button id="btnAbrirModalImpressaoFechamento"
                style="background: #3b82f6; color: white; padding: 15px 30px; font-weight: 800; border-radius: 12px; border: none; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                <span>🖨️</span> PREPARAR IMPRESSÃO (F9)
            </button>
        </div>
    </div>
</div>

<!-- SESSÃO RELATÓRIOS -->
<div id="sectionRelatorios" class="hidden" style="padding: 20px;">
    <div class="page-title" style="margin-bottom: 25px;">
        <h1 style="margin: 0; font-family: 'Outfit', sans-serif; font-size: 1.8rem; color: #1e293b; font-weight: 800;">
            Relatórios e Análises</h1>
        <p style="margin: 5px 0 0; color: #64748b; font-size: 0.9rem;">Dashboards e análise detalhada de vendas</p>
    </div>
    <div id="relAbaVendas" class="tab-content">
        <div class="card" style="background: white; padding: 25px; border-radius: 16px; margin-bottom: 20px;">
            <div style="display: flex; align-items: flex-end; gap: 20px; margin-bottom: 30px; flex-wrap: wrap;">
                <div style="display: flex; gap: 10px; align-items: flex-end;">
                    <div>
                        <label
                            style="display:block; font-size:0.7rem; font-weight:700; color:#64748b; margin-bottom:5px;">INÍCIO</label>
                        <input type="date" id="relVendasInicio" style="height:35px;">
                    </div>
                    <div>
                        <label
                            style="display:block; font-size:0.7rem; font-weight:700; color:#64748b; margin-bottom:5px;">FIM</label>
                        <input type="date" id="relVendasFim" style="height:35px;">
                    </div>
                </div>
                <div style="display: flex; gap: 10px; align-items: flex-end;">
                    <div>
                        <label
                            style="display:block; font-size:0.7rem; font-weight:700; color:#64748b; margin-bottom:5px;">BUSCAR
                            PRODUTO</label>
                        <input type="text" id="relVendasBusca" placeholder="Nome ou Código..."
                            style="height:35px; width: 180px;">
                    </div>
                    <button onclick="carregarRelatorioVendas()"
                        style="background:#3b82f6; color:white; padding:0 20px; height:35px; border-radius:8px; font-weight:700;">FILTRAR</button>
                </div>
                <div
                    style="display: flex; gap: 8px; background: #f1f5f9; padding: 5px; border-radius: 10px; height: 45px; align-items: center;">
                    <button class="btn-small-tab active" data-sub="geral"
                        onclick="alternarSubAbaVendas('geral', this)">📊 Geral</button>
                    <button class="btn-small-tab" data-sub="comandas"
                        onclick="alternarSubAbaVendas('comandas', this)">📝 Comandas</button>
                    <button class="btn-small-tab" data-sub="analitico"
                        onclick="alternarSubAbaVendas('analitico', this)">🗒️ Analítico</button>
                    <button class="btn-small-tab" data-sub="pagamentos"
                        onclick="alternarSubAbaVendas('pagamentos', this)">💳 Pagamentos</button>
                    <button class="btn-small-tab" data-sub="fechamento"
                        onclick="alternarSubAbaVendas('fechamento', this)">🔒 Fechamento</button>
                </div>
            </div>

            <div id="subAbaVendasGeral">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div style="max-height: 450px; overflow-y: auto; border: 1px solid #f1f5f9; border-radius: 12px;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead style="background:#f8fafc; position:sticky; top:0; z-index: 10;">
                                <tr>
                                    <th style="padding:10px; text-align:left; cursor:pointer; white-space: nowrap;"
                                        onclick="ordenarGeralVendas('descricao')">Produto <i class="fas fa-sort" style="font-size: 0.75rem; color: #64748b;"></i></th>
                                    <th style="padding:10px; text-align:center; cursor:pointer; white-space: nowrap;"
                                        onclick="ordenarGeralVendas('total_qtd')">Qtd <i class="fas fa-sort" style="font-size: 0.75rem; color: #64748b;"></i></th>
                                    <th style="padding:10px; text-align:right; padding-right:10px; cursor:pointer; white-space: nowrap;"
                                        onclick="ordenarGeralVendas('total_valor')">Total <i class="fas fa-sort" style="font-size: 0.75rem; color: #64748b;"></i></th>
                                </tr>
                            </thead>
                            <tbody id="tabelaRelVendasBody"></tbody>
                            <tfoot style="background: #f8fafc; border-top: 2px solid #e2e8f0; font-weight: 800;">
                                <tr>
                                    <td style="padding: 12px;">TOTAL GERAL</td>
                                    <td id="totalRelVendasQtd" style="text-align: center;">0</td>
                                    <td id="totalRelVendasValor" style="text-align: right; padding-right: 10px;">R$ 0,00
                                    </td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                    <div
                        style="background: #f8fafc; border-radius: 12px; padding: 15px; display: flex; align-items: center; justify-content: center;">
                        <canvas id="chartVendas"></canvas>
                    </div>
                </div>
            </div>

            <div id="subAbaVendasAnalitico" class="hidden">
                <div style="border: 1px solid #f1f5f9; border-radius: 12px; overflow-y: auto; max-height: 450px;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead style="background: #f8fafc; position: sticky; top: 0; z-index: 10;">
                            <tr>
                                <th style="padding: 10px; text-align: left; cursor: pointer; width: 150px; white-space: nowrap;"
                                    onclick="ordenarAnaliticoVendas('data')">Data <i class="fas fa-sort" style="font-size: 0.75rem; color: #64748b;"></i></th>
                                <th style="padding: 10px; text-align: center; width: 90px; cursor: pointer; white-space: nowrap;"
                                    onclick="ordenarAnaliticoVendas('comanda_numero')">Comanda <i class="fas fa-sort" style="font-size: 0.75rem; color: #64748b;"></i></th>
                                <th style="padding: 10px; text-align: left; cursor: pointer; white-space: nowrap;"
                                    onclick="ordenarAnaliticoVendas('descricao')">Produto <i class="fas fa-sort" style="font-size: 0.75rem; color: #64748b;"></i></th>
                                <th style="padding: 10px; text-align: center; width: 60px; cursor: pointer; white-space: nowrap;" onclick="ordenarAnaliticoVendas('quantidade')">Qtd <i class="fas fa-sort" style="font-size: 0.75rem; color: #64748b;"></i></th>
                                <th style="padding: 10px; text-align: right; width: 120px; cursor: pointer; white-space: nowrap;"
                                    onclick="ordenarAnaliticoVendas('valor')">Valor (R$) <i class="fas fa-sort" style="font-size: 0.75rem; color: #64748b;"></i></th>
                            </tr>
                        </thead>
                        <tbody id="tabelaRelVendasAnaliticoBody"></tbody>
                    </table>
                </div>
            </div>

            <div id="subAbaVendasComandas" class="hidden">
                <div style="border: 1px solid #f1f5f9; border-radius: 12px; overflow-y: auto; max-height: 450px;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead style="background: #f8fafc; position: sticky; top: 0; z-index: 10;">
                            <tr>
                                <th style="padding: 10px; text-align: left; cursor: pointer; width: 150px; white-space: nowrap;"
                                    onclick="ordenarComandasVendas('data')">Data <i class="fas fa-sort" style="font-size: 0.75rem; color: #64748b;"></i></th>
                                <th style="padding: 10px; text-align: center; width: 100px; cursor: pointer; white-space: nowrap;"
                                    onclick="ordenarComandasVendas('numero')">Nrº Comanda <i class="fas fa-sort" style="font-size: 0.75rem; color: #64748b;"></i></th>
                                <th style="padding: 10px; text-align: left; white-space: nowrap; cursor: pointer;"
                                    onclick="ordenarComandasVendas('formas')">Métodos <i class="fas fa-sort" style="font-size: 0.75rem; color: #64748b;"></i></th>
                                <th style="padding: 10px; text-align: right; cursor: pointer; width: 120px; white-space: nowrap;"
                                    onclick="ordenarComandasVendas('total')">Total (R$) <i class="fas fa-sort" style="font-size: 0.75rem; color: #64748b;"></i></th>
                                <th style="padding: 10px; text-align: center; width: 90px; white-space: nowrap;">Ações</th>
                            </tr>
                        </thead>
                        <tbody id="tabelaRelVendasComandasBody"></tbody>
                    </table>
                </div>
            </div>

            <div id="subAbaVendasFechamento" class="hidden">
                <div style="border: 1px solid #f1f5f9; border-radius: 12px; overflow-y: auto; max-height: 450px;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead style="background: #f8fafc; position: sticky; top: 0; z-index: 10;">
                            <tr>
                                <th style="padding: 10px; text-align: left; white-space: nowrap; cursor: pointer;"
                                    onclick="ordenarFechamentoVendas('forma')">Método de Pagamento <i class="fas fa-sort" style="font-size: 0.75rem; color: #64748b;"></i></th>
                                <th style="padding: 10px; text-align: right; width: 200px; white-space: nowrap; cursor: pointer;"
                                    onclick="ordenarFechamentoVendas('total')">Total (R$) <i class="fas fa-sort" style="font-size: 0.75rem; color: #64748b;"></i></th>
                            </tr>
                        </thead>
                        <tbody id="tabelaRelVendasFechamentoBody"></tbody>
                        <tfoot style="background: #f8fafc; border-top: 2px solid #e2e8f0; font-weight: 800;">
                            <tr>
                                <td style="padding: 12px;">TOTAL GERAL</td>
                                <td id="totalRelVendasFechamentoValor" style="text-align: right; padding-right: 10px;">
                                    R$ 0,00</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>

            <div id="subAbaVendasPagamentos" class="hidden">
                <div style="border: 1px solid #f1f5f9; border-radius: 12px; overflow-y: auto; max-height: 450px;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead style="background: #f8fafc; position: sticky; top: 0; z-index: 10;">
                            <tr>
                                <th style="padding: 10px; text-align: left; white-space: nowrap; cursor: pointer;"
                                    onclick="ordenarPagamentosVendas('fornecedor')">Fornecedor / Nome <i class="fas fa-sort" style="font-size: 0.75rem; color: #64748b;"></i></th>
                                <th style="padding: 10px; text-align: right; width: 200px; white-space: nowrap; cursor: pointer;"
                                    onclick="ordenarPagamentosVendas('total')">Total Pago (R$) <i class="fas fa-sort" style="font-size: 0.75rem; color: #64748b;"></i></th>
                            </tr>
                        </thead>
                        <tbody id="tabelaRelVendasPagamentosBody"></tbody>
                        <tfoot style="background: #f8fafc; border-top: 2px solid #e2e8f0; font-weight: 800;">
                            <tr>
                                <td style="padding: 12px;">TOTAL DE PAGAMENTOS (SAÍDAS)</td>
                                <td id="totalRelVendasPagamentosValor" style="text-align: right; padding-right: 10px;">
                                    R$ 0,00</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- SESSÃO FLUXO DE CAIXA -->
<div id="sectionFluxoCaixa" class="hidden" style="padding: 20px;">
    <div class="page-title" style="margin-bottom: 25px;">
        <h1 style="margin: 0; font-family: 'Outfit', sans-serif; font-size: 1.8rem; color: #1e293b; font-weight: 800;">
            Fluxo de Caixa</h1>
        <p style="margin: 5px 0 0; color: #64748b; font-size: 0.9rem;">Análise dinâmica de entradas e saídas</p>
    </div>
    <div class="card" style="background: white; padding: 25px; border-radius: 16px; margin-bottom: 20px;">
        <div style="display: flex; align-items: flex-end; gap: 20px; margin-bottom: 30px; flex-wrap: wrap;">
            <div style="display: flex; gap: 10px; align-items: flex-end;">
                <div>
                    <label
                        style="display:block; font-size:0.7rem; font-weight:700; color:#64748b; margin-bottom:5px;">INÍCIO</label>
                    <input type="date" id="relFluxoInicio" style="height:35px;">
                </div>
                <div>
                    <label
                        style="display:block; font-size:0.7rem; font-weight:700; color:#64748b; margin-bottom:5px;">FIM</label>
                    <input type="date" id="relFluxoFim" style="height:35px;">
                </div>
                <button onclick="carregarRelatorioFluxo()"
                    style="background:#3b82f6; color:white; padding:0 20px; height:35px; border-radius:8px; font-weight:700;">FILTRAR</button>
            </div>
            <div
                style="display: flex; gap: 8px; background: #f1f5f9; padding: 5px; border-radius: 10px; height: 45px; align-items: center;">
                <button class="btn-small-tab" data-sub="analitico" onclick="alternarSubAbaFluxo('analitico', this)">🗒️
                    Analítico</button>
                <button class="btn-small-tab active" data-sub="geral" onclick="alternarSubAbaFluxo('geral', this)">📊
                    Geral</button>
                <button class="btn-small-tab" data-sub="fechamento" onclick="alternarSubAbaFluxo('fechamento', this)">🔒
                    Fechamento</button>
            </div>
            <div id="containerAgrupamentoFluxo"
                style="display: flex; gap: 8px; background: #f1f5f9; padding: 5px; border-radius: 10px; height: 45px; align-items: center;">
                <button class="btn-small-tab active" onclick="carregarRelatorioFluxo('dia', this)">Dia</button>
                <button class="btn-small-tab" onclick="carregarRelatorioFluxo('semana', this)">Semana</button>
                <button class="btn-small-tab" onclick="carregarRelatorioFluxo('mes', this)">Mês</button>
            </div>
        </div>

        <div id="subAbaFluxoGeral">
            <div style="margin-bottom: 40px;">
                <h4 style="margin: 0 0 15px 0; color: #10b981; display:flex; align-items:center; gap:8px;">
                    <span style="background:#dcfce7; padding:5px; border-radius:6px;">📈</span> Pivot: Entradas por
                    Forma
                </h4>
                <div style="border: 1px solid #f1f5f9; border-radius: 12px; overflow-x: auto;">
                    <table id="tabelaPivotEntradas" style="width: 100%; border-collapse: collapse; min-width: 600px;">
                    </table>
                </div>
            </div>
            <div>
                <h4 style="margin: 0 0 15px 0; color: #ef4444; display:flex; align-items:center; gap:8px;">
                    <span style="background:#fee2e2; padding:5px; border-radius:6px;">📉</span> Pivot: Saídas por
                    Recebedor
                </h4>
                <div style="border: 1px solid #f1f5f9; border-radius: 12px; overflow-x: auto;">
                    <table id="tabelaPivotSaidas" style="width: 100%; border-collapse: collapse; min-width: 600px;">
                    </table>
                </div>
            </div>
        </div>

        <div id="subAbaFluxoAnalitico" class="hidden">
            <div style="display: grid; grid-template-rows: auto auto; gap: 30px;">
                <div>
                    <h4 style="margin: 0 0 10px 0; color: #10b981; display:flex; align-items:center; gap:8px;">
                        <span style="background:#dcfce7; padding:5px; border-radius:6px;">📋</span> Detalhamento de
                        Entradas
                    </h4>
                    <div style="border: 1px solid #f1f5f9; border-radius: 12px; overflow-y: auto; max-height: 250px;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead style="background: #f8fafc; position: sticky; top: 0; z-index: 10;">
                                <tr>
                                    <th style="padding: 10px; text-align: left; cursor: pointer; width: 150px; white-space: nowrap;"
                                        onclick="ordenarAnaliticoFluxo('entradas', 'data')">Data ↕️</th>
                                    <th style="padding: 10px; text-align: left;">Fonte/Venda</th>
                                    <th style="padding: 10px; text-align: left;">Método</th>
                                    <th style="padding: 10px; text-align: right; width: 120px;">Valor (R$)</th>
                                </tr>
                            </thead>
                            <tbody id="tabelaFluxoAnaliticoEntradas"></tbody>
                        </table>
                    </div>
                </div>
                <div>
                    <h4 style="margin: 0 0 10px 0; color: #ef4444; display:flex; align-items:center; gap:8px;">
                        <span style="background:#fee2e2; padding:5px; border-radius:6px;">📋</span> Detalhamento de
                        Saídas
                    </h4>
                    <div style="border: 1px solid #f1f5f9; border-radius: 12px; overflow-y: auto; max-height: 250px;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead style="background: #f8fafc; position: sticky; top: 0; z-index: 10;">
                                <tr>
                                    <th style="padding: 10px; text-align: left; cursor: pointer; width: 150px; white-space: nowrap;"
                                        onclick="ordenarAnaliticoFluxo('saidas', 'data')">Data ↕️</th>
                                    <th style="padding: 10px; text-align: left;">Recebedor</th>
                                    <th style="padding: 10px; text-align: left;">Serviço/Item</th>
                                    <th style="padding: 10px; text-align: right; width: 120px;">Valor (R$)</th>
                                </tr>
                            </thead>
                            <tbody id="tabelaFluxoAnaliticoSaidas"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div id="subAbaFluxoFechamento" class="hidden">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                <div>
                    <h4 style="margin: 0 0 15px 0; color: #10b981; display:flex; align-items:center; gap:8px;">
                        <span style="background:#dcfce7; padding:5px; border-radius:6px;">📈</span> Resumo de Entradas
                        (Recebimentos)
                    </h4>
                    <div style="border: 1px solid #f1f5f9; border-radius: 12px; overflow-y: auto;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead style="background: #f8fafc; z-index: 10;">
                                <tr>
                                    <th style="padding: 10px; text-align: left;">Método</th>
                                    <th style="padding: 10px; text-align: right; width: 150px;">Total (R$)</th>
                                </tr>
                            </thead>
                            <tbody id="tabelaFechamentoFluxoEntradasBody"></tbody>
                            <tfoot style="background: #f8fafc; border-top: 2px solid #e2e8f0; font-weight: 800;">
                                <tr>
                                    <td style="padding: 12px;">TOTAL ENTRADAS</td>
                                    <td id="totalFechamentoFluxoEntradas"
                                        style="text-align: right; padding-right: 10px;">R$ 0,00</td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
                <div>
                    <h4 style="margin: 0 0 15px 0; color: #ef4444; display:flex; align-items:center; gap:8px;">
                        <span style="background:#fee2e2; padding:5px; border-radius:6px;">📉</span> Resumo de Saídas
                        (Pagamentos)
                    </h4>
                    <div style="border: 1px solid #f1f5f9; border-radius: 12px; overflow-y: auto;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead style="background: #f8fafc; z-index: 10;">
                                <tr>
                                    <th style="padding: 10px; text-align: left;">Método</th>
                                    <th style="padding: 10px; text-align: right; width: 150px;">Total (R$)</th>
                                </tr>
                            </thead>
                            <tbody id="tabelaFechamentoFluxoSaidasBody"></tbody>
                            <tfoot style="background: #f8fafc; border-top: 2px solid #e2e8f0; font-weight: 800;">
                                <tr>
                                    <td style="padding: 12px;">TOTAL SAÍDAS</td>
                                    <td id="totalFechamentoFluxoSaidas" style="text-align: right; padding-right: 10px;">
                                        R$ 0,00</td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
            <div
                style="margin-top: 25px; background: #f8fafc; padding: 20px; border-radius: 12px; border: 2px solid #e2e8f0; display: flex; justify-content: space-between; align-items: center;">
                <h3 style="margin: 0; color: #1e293b; font-family: 'Outfit', sans-serif;">SALDO FINAL DO PERÍODO</h3>
                <p id="saldoFinalFluxo" style="margin: 0; font-size: 1.8rem; font-weight: 800; color: #3b82f6;">R$ 0,00
                </p>
            </div>
        </div>
    </div>
</div>


