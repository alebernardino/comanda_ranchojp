<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rancho JP - Sistema de Comandas</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qz-tray@2.2.4/qz-tray.min.js"></script>
  <link rel="stylesheet" href="css/style.css?v=102">
  <link rel="stylesheet" href="css/base/layout.css?v=2">
  <link rel="stylesheet" href="css/base/components.css?v=1">
  <link rel="stylesheet" href="css/base/print.css?v=1">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Outfit:wght@400;600;700;800&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>
  <!-- Header de ImpressÃ£o Global -->
  <div id="globalPrintHeader" class="global-print-element">
    <h1>Restaurante Rancho JP</h1>
  </div>

  <!-- Sidebar Esquerda (NavegaÃ§Ã£o) -->
  <aside class="sidebar collapsed">
    <div class="sidebar-content">
      <button id="btnToggleSidebar" class="btn-toggle" title="Alternar Menu">
        <i class="fas fa-bars"></i>
      </button>

      <div class="sidebar-brand">
        <div class="brand-logo" style="display: flex; align-items: center; gap: 12px;">
          <div
            style="background: #38bdf8; width: 32px; height: 32px; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #0f172a; font-size: 1.2rem; font-weight: 900; flex-shrink: 0;">
            R</div>
          <span class="brand-text">Rancho JP</span>
        </div>
      </div>

      <nav class="nav-menu">
        <a href="#" class="nav-item active" id="navDashboard">
          <span class="nav-icon">ğŸ“‹</span> <span class="nav-text">Comandas</span>
        </a>
        <a href="#" class="nav-item" id="navProdutosSessao">
          <span class="nav-icon">ğŸ“¦</span> <span class="nav-text">Produtos</span>
        </a>
        <a href="#" class="nav-item" id="navClientes">
          <span class="nav-icon">ğŸ§¾</span> <span class="nav-text">Clientes</span>
        </a>
        <a href="#" class="nav-item" id="navColaboradores">
          <span class="nav-icon">ğŸ‘¥</span> <span class="nav-text">Colaboradores</span>
        </a>
        <a href="#" class="nav-item" id="navFinanceiro">
          <span class="nav-icon">ğŸ’°</span> <span class="nav-text">Financeiro</span>
        </a>
        <a href="#" class="nav-item" id="navRelatorios">
          <span class="nav-icon">ğŸ“Š</span> <span class="nav-text">RelatÃ³rios</span>
        </a>
        <a href="#" class="nav-item" id="navFechamento">
          <span class="nav-icon">ğŸ”’</span> <span class="nav-text">Fechamento</span>
        </a>
      </nav>

      <div class="sidebar-footer"
        style="padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1); margin-top: 20px;">
        <p style="font-size: 0.75rem; color: #64748b; margin: 0;">Rancho JP v2.0</p>
      </div>
    </div>
  </aside>

  <!-- ConteÃºdo Principal -->
  <main class="main-content">

    <!-- SeÃ§Ã£o: Dashboard de Comandas -->
    <div id="sectionComandas">
      <header class="page-header">
        <div class="page-title">
          <h1 id="mainTitle">Painel de Comandas</h1>
        </div>
        <div class="quick-actions" id="headerActions">
          <div class="quick-input-group">
            <input type="number" id="quickNumero" placeholder="NÂº Comanda">
            <button class="btn-quick btn-add-comanda" id="btnConfirmarQuick">Abrir</button>
          </div>
        </div>
      </header>

      <div class="comandas-grid" id="comandasGrid">
        <!-- Preenchido via JS -->
      </div>
    </div>

    <!-- Container para InjeÃ§Ã£o de Outras SeÃ§Ãµes (via JS templates/sections.html) -->
    <div id="sectionsContainer"></div>

  </main>

  <!-- Sidebar Direita (Resumo e Status) -->
  <aside class="sidebar-right collapsed">
    <div class="sidebar-content-right">
      <button id="btnToggleRightSidebar" class="btn-toggle" title="Alternar Resumo">
        <i class="fas fa-bars"></i>
      </button>

      <div class="brand-text" style="margin-bottom: 20px;">
        <h3 style="font-family: 'Outfit', sans-serif; font-size: 1.1rem; color: #1e293b; margin: 0;">Resumo Hoje</h3>
        <p style="font-size: 0.75rem; color: #64748b; margin: 5px 0 0 0;">Dados em tempo real</p>
      </div>

      <div class="stats-overview">
        <div class="stat-card">
          <div class="stat-icon" style="background: #f0fdf4; color: #10b981;">âœ…</div>
          <div class="stat-info">
            <h4>DisponÃ­veis</h4>
            <p id="stats-livres">--</p>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon" style="background: #fef2f2; color: #ef4444;">ğŸ½ï¸</div>
          <div class="stat-info">
            <h4>Em Uso</h4>
            <p id="stats-ocupadas">--</p>
          </div>
        </div>
      </div>

      <div style="margin-top: 20px; border-top: 1px solid #e2e8f0; padding-top: 15px;">
        <div id="toggleVendasHojeBtn"
          style="display: flex; justify-content: space-between; align-items: center; cursor: pointer; padding: 10px; background: #f8fafc; border-radius: 8px; gap: 8px;">
          <span style="font-size: 1.2rem;">ğŸ“¦</span>
          <span class="vendas-label" style="font-weight: 700; color: #1e293b; font-size: 0.9rem; flex: 1;">Itens
            Vendidos</span>
          <span id="toggleVendasIcon" style="font-size: 1rem; transition: transform 0.3s;">â–¼</span>
        </div>
        <div id="vendasHojeContainer" style="max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out;">
          <div
            style="margin-top: 10px; max-height: 300px; overflow-y: auto; border: 1px solid #f1f5f9; border-radius: 8px;">
            <table style="width: 100%; border-collapse: collapse; font-size: 0.8rem;">
              <thead style="background: #f8fafc; position: sticky; top: 0;">
                <tr>
                  <th style="padding: 8px; text-align: left;">Produto</th>
                  <th style="padding: 8px; width: 60px;">Qtd</th>
                </tr>
              </thead>
              <tbody id="tbodyVendasHoje"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </aside>

  <!-- Containers para InjeÃ§Ã£o de Modais e ImpressÃ£o (via JS) -->
  <div id="modalsContainer"></div>
  <div id="printingTemplatesContainer"></div>

  <!-- Footer de ImpressÃ£o Global -->
  <div id="globalPrintFooter" class="global-print-element">
    <div class="footer-item"><i class="fab fa-instagram"></i> @restauranteranchojp</div>
    <div class="footer-item"><i class="fab fa-whatsapp"></i> (16) 991211765</div>
    <div class="print-only" style="display: none;"><br><br><br><br><br></div>
  </div>

  <!-- SCRIPTS -->
  <script src="js/api.js?v=100"></script>
  <script src="js/utils.js?v=100"></script>
  <script src="js/printer.js?v=100"></script>
  <script src="js/dashboard.js?v=105"></script>
  <script src="js/produtos.js?v=104"></script>
  <script src="js/comanda.js?v=105"></script>
  <script src="js/divisao.js?v=100"></script>
  <script src="js/pagamento.js?v=106"></script>
  <script src="js/impressao.js?v=103"></script>
  <script src="js/fechamento.js?v=100"></script>
  <script src="js/colaboradores.js?v=104"></script>
  <script src="js/clientes.js?v=101"></script>
  <script src="js/financeiro.js?v=100"></script>
  <script src="js/relatorios.js?v=100"></script>

  <!-- Orquestrador Loader -->
  <script src="js/index.js?v=108"></script>
</body>

</html>
