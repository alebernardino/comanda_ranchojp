<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <title>Comanda</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css?v=2">
  <link rel="stylesheet" href="css/comanda.css">
</head>

<body>

  <!-- ================= COMANDA ================= -->
  <div id="containerComanda" class="janela-central">

    <div class="comanda-header">
      <h2 id="tituloComanda">Comanda</h2>
      <div class="comanda-info">
        <div class="info-field">
          <label>Nome:</label>
          <input type="text" id="nomeComanda" placeholder="Nome do cliente" autocomplete="off">
        </div>
        <div class="info-field">
          <label>Telefone:</label>
          <input type="text" id="telefoneComanda" placeholder="Telefone" autocomplete="off">
        </div>
        <div class="info-field">
          <label>Pessoas na comanda:</label>
          <input type="text" id="pessoasComanda" placeholder="quantidade" autocomplete="off">
        </div>
      </div>
    </div>

    <div class="pdv-layout">

      <!-- COLUNA ESQUERDA -->
      <div class="pdv-comanda">

        <div class="entrada-produto">
          <input id="buscaCodigo" placeholder="Código" autocomplete="off">
          <input id="buscaDescricao" placeholder="Descrição" autocomplete="off">
          <input id="qtdProduto" type="number" step="1" placeholder="Qtd">
          <input id="valorProduto" type="number" step="0.01" placeholder="Valor" readonly>
          <button id="btnAddItem" style="display:none;">Adicionar</button>
        </div>

        <div id="itensComanda">
          <table id="tabelaItens">
            <thead>
              <tr>
                <th>Cód</th>
                <th>Descrição</th>
                <th>Qtd</th>
                <th>R$ Valor</th>
                <th>R$ Subtotal</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>

          <div id="totalComanda"></div>
        </div>

      </div>

      <!-- COLUNA DIREITA -->
      <div class="pdv-produtos">
        <div class="produtos-header">
          <span>COD</span>
          <span>Produtos</span>
          <span>Valor</span>
        </div>
        <div id="listaProdutos"></div>
      </div>

    </div>

    <div class="pdv-atalhos pdv-divisao">

      <div class="atalhos-principais">
        <button id="btnImprimir">Imprimir (F2)</button>
        <button id="btnDividirItem">Dividir por item</button>
        <label class="dividir-total">
          Dividir total por:
          <input type="number" id="qtdPessoas" min="2" value="2">
          <span id="valorPorPessoa">R$ 0,00</span>
        </label>
        <button id="btnPagamento">Pagamento (F1)</button>
        <button id="btnSair">Fechar (F8)</button>
      </div>

      <div class="atalhos-divisao">
        <!-- Dividir por item -->
      </div>
    </div>

  </div>

  <!-- MODAL DIVIDIR POR ITEM -->
  <div id="modalDividirItem" class="modal hidden">
    <div class="modal-content modal-comanda">

      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h3 style="margin: 0;">Dividir Valor por Item</h3>
        <button id="btnFecharModalItemTop"
          style="background: #ef4444; border-radius: 50%; width: 36px; height: 36px; padding: 0; min-width: 36px; color: white; border: none; cursor: pointer;">×</button>
      </div>

      <div class="modal-table-container">
        <table class="tabela-divisao">
          <thead>
            <tr>
              <th>Cód</th>
              <th>Descrição</th>
              <th style="text-align: center;">Total</th>
              <th style="text-align: center;">Pago</th>
              <th style="text-align: center;">Restante</th>
              <th style="text-align: center;">Considerar</th>
              <th>Valor</th>
              <th>Subtotal</th>
            </tr>
          </thead>
          <tbody id="tbodyDivisaoItens"></tbody>
        </table>
      </div>

      <div class="modal-actions" style="display: flex; justify-content: space-between; align-items: center; gap: 10px;">
        <div style="font-size: 1.25em; font-weight: 800; color: var(--primary);">
          TOTAL SELECIONADO: <span id="totalSelecionadoItem">R$ 0,00</span>
        </div>
        <div style="display: flex; gap: 10px;">
          <button id="btnConsiderarSelecaoItem"
            style="background-color: var(--primary); font-size: 1.1em; padding: 12px 24px;">
            Considerar Seleção
          </button>
          <button id="btnAdicionarAoPagamento"
            style="background-color: var(--success); font-size: 1.1em; padding: 12px 24px;">
            Adicionar Valor ao Pagamento
          </button>
        </div>
      </div>

    </div>
  </div>

  <script src="js/api.js?v=2"></script>
  <script src="js/comanda.js?v=4"></script>
</body>

</html>